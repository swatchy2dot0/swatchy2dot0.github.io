<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Amazon Affiliate Links</title>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>
 
<h1>Amazon Affiliate Links</h1>

<div id="subPages"></div>

<div id="error"></div>

<div id="helper" style="display: none;"></div>
 
<script>
$.getJSON( "https://api.github.com/repositories/126679738/contents", function( data ) {
  $.each( data, function( key, val ) {
    $.each( val, function( key2, val2 ) {
		if (key2 == "name" && (val2+"").match("^20.*html$")) {
			
			$.get( "/"+val2, function( response ) {
				console.log("response: " + response);
				var parsedHTML = $($.parseHTML(response)).contents();
				var divs = parsedHTML.find("div");
				console.log("divs: " + divs);
				var newHtml = "<div>" + divs.html() + "</div>";
				console.log("newHtml: " + newHtml);
				$( "#subPages" ).append(newHtml);
			});
		}
	  })
  })
})
</script>
 
</body>
</html>
